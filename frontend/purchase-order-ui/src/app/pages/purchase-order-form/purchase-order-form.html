<form [formGroup]="form" (submit)="onSubmit()" novalidate>
  @if (errorMessage()) {
    <p style="color: red; margin-bottom: 1rem">{{ errorMessage() }}</p>
  }

  <div class="form-group">
    <label for="poNumber">PO Number *</label>
    <input
      type="text"
      id="poNumber"
      formControlName="poNumber"
      placeholder="Enter PO number"
      required
    />
    @if (form.get('poNumber')?.invalid && form.get('poNumber')?.touched) {
      <span style="color: red; font-size: 0.875rem">PO Number is required</span>
    }
  </div>

  <div class="form-group">
    <label for="description">Description *</label>
    <textarea
      id="description"
      formControlName="description"
      placeholder="Enter description"
      required
    ></textarea>
    @if (form.get('description')?.invalid && form.get('description')?.touched) {
      <span style="color: red; font-size: 0.875rem">Description is required</span>
    }
  </div>

  <div class="form-group">
    <label for="supplierName">Supplier *</label>
    <input
      type="text"
      id="supplierName"
      formControlName="supplierName"
      placeholder="Enter supplier name"
      required
    />
    @if (form.get('supplierName')?.invalid && form.get('supplierName')?.touched) {
      <span style="color: red; font-size: 0.875rem">Supplier is required</span>
    }
  </div>

  <div class="form-group">
    <label for="orderDate">Order Date *</label>
    <input type="date" id="orderDate" formControlName="orderDate" required />
    @if (form.get('orderDate')?.invalid && form.get('orderDate')?.touched) {
      <span style="color: red; font-size: 0.875rem">Order Date is required</span>
    }
  </div>

  <div class="form-group">
    <label for="totalAmount">Total Amount *</label>
    <input
      type="number"
      id="totalAmount"
      formControlName="totalAmount"
      placeholder="0.00"
      step="0.01"
      min="0.01"
      required
    />
    @if (form.get('totalAmount')?.invalid && form.get('totalAmount')?.touched) {
      <span style="color: red; font-size: 0.875rem">Total Amount must be greater than 0</span>
    }
  </div>

  <div class="form-group">
    <label for="status">Status</label>
    <select id="status" formControlName="status">
      @for (s of statusOptions; track s) {
        <option [value]="s">{{ s }}</option>
      }
    </select>
  </div>

  <div class="form-actions">
    <button type="submit" [disabled]="submitting()">
      {{ purchaseOrder() ? 'Update' : 'Create' }}
    </button>
    <button type="button" (click)="onCancel()" [disabled]="submitting()">Cancel</button>
  </div>
</form>
